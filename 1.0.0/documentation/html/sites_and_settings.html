<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>3. Custom Sites and Settings &#8212; pwv_kpno 1.0.0 documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/custom_style.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4. Accessing Site Data" href="accessing_data.html" />
    <link rel="prev" title="2. Installation and Setup" href="install.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../documentation/html/index.html">
          pwv_kpno</a>
        <span class="navbar-text navbar-version pull-left"><b>1.0.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../../documentation/html/overview.html">Documentation</a></li>
                <li><a href="../../examples/html/correcting_spectra.html">Examples</a></li>
                <li><a href="../../validation/html/overview.html">Validation</a></li>
                <li><a href="https://github.com/mwvgroup/pwv_kpno/issues/new/choose">Need Help?</a></li>
                <li><a href="https://github.com/mwvgroup/pwv_kpno">Source Code</a></li>
            
            
            
            
            
          </ul>

          
                 
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">1. Package Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">2. Installation and Setup</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. Custom Sites and Settings</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#available-sites-and-settings">3.1. Available Sites and Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#modeling-a-custom-location">3.2. Modeling a Custom Location</a></li>
<li class="toctree-l2"><a class="reference internal" href="#custom-transmission-models">3.3. Custom Transmission Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="#specifying-data-cuts">3.4. Specifying Data Cuts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#importing-a-new-location">3.5. Importing a New Location</a></li>
<li class="toctree-l2"><a class="reference internal" href="#exporting-current-settings">3.6. Exporting Current Settings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="accessing_data.html">4. Accessing Site Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="atmospheric_modeling.html">5. Modeling the Atmosphere</a></li>
<li class="toctree-l1"><a class="reference internal" href="blackbody_modeling.html">6. Modeling a Black Body</a></li>
</ul>

        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="custom-sites-and-settings">
<h1>3. Custom Sites and Settings<a class="headerlink" href="#custom-sites-and-settings" title="Permalink to this headline">¶</a></h1>
<p>The <strong>pwv_kpno</strong> package provides access to models for the atmospheric
transmission due to PWV at any site within the
<a class="reference external" href="http://www.suominet.ucar.edu">SuomiNet</a>  GPS network. However, the package
is configured by default to return models for Kitt Peak National Observatory.
This page provides instructions on how to retrieve models for additional sites.</p>
<div class="section" id="available-sites-and-settings">
<h2>3.1. Available Sites and Settings<a class="headerlink" href="#available-sites-and-settings" title="Permalink to this headline">¶</a></h2>
<p>A list of sites that are available with a
particular install of <strong>pwv_kpno</strong> can be retrieved by running</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pwv_kpno.package_settings</span> <span class="kn">import</span> <span class="n">settings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">available_sites</span><span class="p">)</span>

<span class="go">    [&#39;kitt_peak&#39;]</span>
</pre></div>
</td></tr></table></div>
<p>The returned list will contain the default location <code class="docutils literal notranslate"><span class="pre">'kitt_peak'</span></code> in
addition to any custom locations that have been installed on your current
machine. A complete summary of package settings for the current site being
modeled can be accessed by printing the <code class="docutils literal notranslate"><span class="pre">settings</span></code> object. For example,
the settings for Kitt Peak are as follows:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>

<span class="go">                         pwv_kpno Current Site Information</span>
<span class="go">    ============================================================================</span>
<span class="go">    Site Name:            kitt_peak</span>
<span class="go">    Primary Receiver:     KITT</span>
<span class="go">    Secondary Receivers:</span>
<span class="go">        AZAM</span>
<span class="go">        P014</span>
<span class="go">        SA46</span>
<span class="go">        SA48</span>

<span class="go">    Available Data:</span>
<span class="go">        2010</span>
<span class="go">        2011</span>
<span class="go">        2012</span>
<span class="go">        2013</span>
<span class="go">        2014</span>
<span class="go">        2015</span>
<span class="go">        2016</span>
<span class="go">        2017</span>

<span class="go">                                     Data Cuts</span>
<span class="go">    ============================================================================</span>
<span class="go">    Receiver    Value       Type          Lower_Bound          Upper_Bound  unit</span>
<span class="go">    ----------------------------------------------------------------------------</span>
<span class="go">    AZAM    SrfcPress  inclusive                  880                  925  mbar</span>
<span class="go">    KITT    SrfcPress  inclusive                  775                 1000  mbar</span>
<span class="go">    KITT         date  exclusive  2016-01-01 00:00:00  2016-04-01 00:00:00   UTC</span>
<span class="go">    P014    SrfcPress  inclusive                  850                 1000  mbar</span>
<span class="go">    SA46    SrfcPress  inclusive                  900                 1000  mbar</span>
<span class="go">    SA48    SrfcPress  inclusive                  910                 1000  mbar</span>
</pre></div>
</td></tr></table></div>
<p>Alternatively, individual settings can be accessed, but not modified, using
attributes.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># The unique name for the current site being modeled</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">site_name</span><span class="p">)</span>

<span class="go">    kitt_peak</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># A list of all SuomiNet GPS receivers that pwv_kpno is using</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data from for the current site</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">receivers</span><span class="p">)</span>

<span class="go">    [&#39;AZAM&#39;, &#39;KITT&#39;, &#39;P014&#39;, &#39;SA46&#39;, &#39;SA48&#39;]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The ID code for the GPS receiver that</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># directly measures PWV for the current site</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">primary_rec</span><span class="p">)</span>

<span class="go">    &#39;KITT&#39;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The ID codes for GPS receivers near the primary receiver.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># These are used to supplement measurements from the primary receiver</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">supplement_rec</span><span class="p">)</span>

<span class="go">    [&#39;AZAM&#39;, &#39;P014&#39;, &#39;SA46&#39;, &#39;SA48&#39;]</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="modeling-a-custom-location">
<h2>3.2. Modeling a Custom Location<a class="headerlink" href="#modeling-a-custom-location" title="Permalink to this headline">¶</a></h2>
<p>Each site modeled by <strong>pwv_kpno</strong> is defined by a unique configuration file.
The <code class="docutils literal notranslate"><span class="pre">ConfigBuilder</span></code> class allows users to create customized configuration
files for any SuomiNet site. As a simple example, we create a new configuration
file for the Cerro Tololo Inter-American Observatory near La Serena, Chile.</p>
<dl class="class">
<dt id="pwv_kpno.package_settings.ConfigBuilder">
<em class="property">class </em><code class="descclassname">pwv_kpno.package_settings.</code><code class="descname">ConfigBuilder</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pwv_kpno/package_settings.html#ConfigBuilder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pwv_kpno.package_settings.ConfigBuilder" title="Permalink to this definition">¶</a></dt>
<dd><p>The ConfigBuilder class is used to build config files for a custom site</p>
<p>Default wavelengths and cross sections are provided by MODTRAN estimates
and range from 3,000 to 12,000 Angstroms in 0.05 Angstrom increments.</p>
<dl class="attribute">
<dt id="pwv_kpno.package_settings.ConfigBuilder.data_cuts">
<code class="descname">data_cuts</code><a class="headerlink" href="#pwv_kpno.package_settings.ConfigBuilder.data_cuts" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies cuts for SuomiNet data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pwv_kpno.package_settings.ConfigBuilder.site_name">
<code class="descname">site_name</code><a class="headerlink" href="#pwv_kpno.package_settings.ConfigBuilder.site_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Desired name of the custom site</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pwv_kpno.package_settings.ConfigBuilder.primary_rec">
<code class="descname">primary_rec</code><a class="headerlink" href="#pwv_kpno.package_settings.ConfigBuilder.primary_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>SuomiNet ID code for the primary GPS receiver</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pwv_kpno.package_settings.ConfigBuilder.sup_recs">
<code class="descname">sup_recs</code><a class="headerlink" href="#pwv_kpno.package_settings.ConfigBuilder.sup_recs" title="Permalink to this definition">¶</a></dt>
<dd><p>List of id codes for supplemental receivers</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pwv_kpno.package_settings.ConfigBuilder.wavelengths">
<code class="descname">wavelengths</code><a class="headerlink" href="#pwv_kpno.package_settings.ConfigBuilder.wavelengths" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of wavelengths in Angstroms (optional)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pwv_kpno.package_settings.ConfigBuilder.cross_sections">
<code class="descname">cross_sections</code><a class="headerlink" href="#pwv_kpno.package_settings.ConfigBuilder.cross_sections" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of PWV cross sections in cm^2 (optional)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pwv_kpno.package_settings.ConfigBuilder.save_to_dir">
<code class="descname">save_to_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pwv_kpno.package_settings.ConfigBuilder.save_to_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a custom config file &lt;site_name&gt;.ecsv</p>
</dd></dl>

</dd></dl>

<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pwv_kpno.package_settings</span> <span class="kn">import</span> <span class="n">ConfigBuilder</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_config</span> <span class="o">=</span> <span class="n">ConfigBuilder</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">site_name</span><span class="o">=</span><span class="s1">&#39;cerro_tololo&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">primary_rec</span><span class="o">=</span><span class="s1">&#39;CTIO&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">sup_rec</span><span class="o">=</span><span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_config</span><span class="o">.</span><span class="n">save_to_ecsv</span><span class="p">(</span><span class="s1">&#39;./cerro_tololo.ecsv&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Here <code class="docutils literal notranslate"><span class="pre">site_name</span></code> specifies a unique identifier for the site being
modeled, <code class="docutils literal notranslate"><span class="pre">primary_rec</span></code> is the SuomiNet ID code for the GPS receiver
located at the modeled site, and <code class="docutils literal notranslate"><span class="pre">sup_rec</span></code> is a list of SuomiNet ID codes
of other, nearby receivers that can be used to supplement data taken by
<code class="docutils literal notranslate"><span class="pre">primary_rec</span></code>. Unlike the default model for KPNO, there are no additional
receivers near the CTIO and so <code class="docutils literal notranslate"><span class="pre">sup_rec</span></code> in this example is left as an
empty list (the default value).</p>
</div>
<div class="section" id="custom-transmission-models">
<h2>3.3. Custom Transmission Models<a class="headerlink" href="#custom-transmission-models" title="Permalink to this headline">¶</a></h2>
<p>By default <strong>pwv_kpno</strong> models use MODTRAN estimates for the wavelength dependent
cross section of H<sub>2</sub>O. from 3,000 to 12,000 Angstroms. The optional
<code class="docutils literal notranslate"><span class="pre">wavelengths</span></code> and <code class="docutils literal notranslate"><span class="pre">cross_sections</span></code> arguments allow a user to customize
these cross sections in units of Angstroms and cm<sup>2</sup> respectively.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pwv_kpno.package_settings</span> <span class="kn">import</span> <span class="n">ConfigBuilder</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_config</span> <span class="o">=</span> <span class="n">ConfigBuilder</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">site_name</span><span class="o">=</span><span class="s1">&#39;cerro_tololo&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">primary_rec</span><span class="o">=</span><span class="s1">&#39;CTIO&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">sup_rec</span><span class="o">=</span><span class="p">[],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">wavelength</span><span class="o">=</span><span class="n">custom_wavelengths</span><span class="p">,</span> <span class="c1"># Array of wavelengths in Angstroms</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">cross_section</span><span class="o">=</span><span class="n">custom_cross_sections</span> <span class="c1"># Array of cross sections in cm^2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_config</span><span class="o">.</span><span class="n">save_to_ecsv</span><span class="p">(</span><span class="s1">&#39;./cerro_tololo.ecsv&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="specifying-data-cuts">
<h2>3.4. Specifying Data Cuts<a class="headerlink" href="#specifying-data-cuts" title="Permalink to this headline">¶</a></h2>
<p>If desired, users can specify custom data cuts on SuomiNet data used by the
package. Data cuts are defined using a 2 dimensional dictionary of boundary
values. The first key specifies which receiver the data cuts apply to. The
second key specifies what values to cut. Following SuomiNet’s naming
convention, values that can be cut include the following:</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="25%" />
<col width="25%" />
<col width="22%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Key</th>
<th class="head">Expected Units</th>
<th class="head">Data Cut Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Date of Measurement</td>
<td><code class="docutils literal notranslate"><span class="pre">&quot;Date&quot;</span></code></td>
<td>UTC timestamp</td>
<td>Exclude data</td>
</tr>
<tr class="row-odd"><td>Water Vapor</td>
<td><code class="docutils literal notranslate"><span class="pre">&quot;PWV&quot;</span></code></td>
<td>mm</td>
<td>Include data</td>
</tr>
<tr class="row-even"><td>Water Vapor Error</td>
<td><code class="docutils literal notranslate"><span class="pre">&quot;PWVerr&quot;</span></code></td>
<td>mm</td>
<td>Include data</td>
</tr>
<tr class="row-odd"><td>Surface Pressure</td>
<td><code class="docutils literal notranslate"><span class="pre">&quot;SrfcPress&quot;</span></code></td>
<td>mbar</td>
<td>Include data</td>
</tr>
<tr class="row-even"><td>Surface Temperature</td>
<td><code class="docutils literal notranslate"><span class="pre">&quot;SrfcTemp&quot;</span></code></td>
<td>Kelvin</td>
<td>Include data</td>
</tr>
<tr class="row-odd"><td>Relative Humidity</td>
<td><code class="docutils literal notranslate"><span class="pre">&quot;SrfcRH&quot;</span></code></td>
<td>%</td>
<td>Include data</td>
</tr>
</tbody>
</table>
<p>For example, if weather station at Cerro Tololo began to malfunction between
two dates we could ignore these measurements by specifying:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data_cuts</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;CTIO&#39;</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">{</span><span class="s1">&#39;Date&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="n">timestamp_start</span><span class="p">,</span> <span class="n">timestamp_start</span><span class="p">],]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">new_config</span> <span class="o">=</span> <span class="n">ConfigBuilder</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">site_name</span><span class="o">=</span><span class="s1">&#39;cerro_tololo&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">primary_rec</span><span class="o">=</span><span class="s1">&#39;CTIO&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_cuts</span><span class="o">=</span><span class="n">data_cuts</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Data cuts can also be modified for the current site being modeled via the
<code class="docutils literal notranslate"><span class="pre">settings</span></code> object</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pwv_kpno.package_settings</span> <span class="kn">import</span> <span class="n">settings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">settings</span><span class="o">.</span><span class="n">data_cuts</span><span class="p">[</span><span class="s1">&#39;CTIO&#39;</span><span class="p">][</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">timestamp_start</span><span class="p">,</span> <span class="n">timestamp_start</span><span class="p">])</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A full worked out example on how to choose and visualize your chosen data cuts
is available in the <a class="reference external" href="../../examples/html/data_cuts.html">Examples</a> section.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Any modifications to the data cuts for a given site cannot be
automatically undone. To undo any changes to <code class="docutils literal notranslate"><span class="pre">settings.data_cuts</span></code> you will
need to manually modify the attribute to its previous state.</p>
</div>
</div>
<div class="section" id="importing-a-new-location">
<h2>3.5. Importing a New Location<a class="headerlink" href="#importing-a-new-location" title="Permalink to this headline">¶</a></h2>
<p>Once a configuration file has been created, it can be permanently added to the
locally installed <strong>pwv_kpno</strong> package by running</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pwv_kpno.package_settings</span> <span class="kn">import</span> <span class="n">settings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">settings</span><span class="o">.</span><span class="n">import_site_config</span><span class="p">(</span><span class="s1">&#39;./cerro_tololo.ecsv&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>This command only needs to be run once, after which <strong>pwv_kpno</strong> will retain
the new model on disk. The package can then be configured to use the new model
by running</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">settings</span><span class="o">.</span><span class="n">set_site</span><span class="p">(</span><span class="s1">&#39;cerro_tololo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">site_name</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>After setting <strong>pwv_kpno</strong> to a new location, the package will exclusively use
the new model until the current Python environment is terminated.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This setting is not persistent. When <strong>pwv_kpno</strong> is
first imported into a new environment the package will always default to using
the standard model for Kitt Peak, and the above command will have to be rerun.</p>
</div>
</div>
<div class="section" id="exporting-current-settings">
<h2>3.6. Exporting Current Settings<a class="headerlink" href="#exporting-current-settings" title="Permalink to this headline">¶</a></h2>
<p>The configuration file for the currently modeled location can be exported in
ecsv format by running:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">settings</span><span class="o">.</span><span class="n">export_site_config</span><span class="p">(</span><span class="s1">&#39;./cerro_tololo.ecsv&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>It is recommended to keep a backup of any custom configuration files added
to your <strong>pwv_kpno</strong> install. This is especially important because
reinstalling or updating the package will delete your custom sites.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/sites_and_settings.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2018, Daniel J. Perrefort.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>